1.1 研究背景与意义
近年来，互联网信息以几何级数爆炸式增长给人们快速而精确地获取信息带来了巨大的困难。在日常生活中，人们进行信息收集往往要花费大量的时间，而实际阅读有效信息使用的时间却只占很小一部分。为了方便人们生活，随时随地查询检索需要的内容，各大搜索引擎应运而生。
国内比较著名的搜索引擎主要有百度搜索、360搜索和搜狗搜索等，作为通用搜索引擎，在某种程度上来说是一个大型的爬虫，爬虫技术是搜索引擎的一个关键技术。在进行文本采集时，搜索引擎通过爬虫技术对页面上存在的超链接进行爬取以发现更多的网页，当这些页面已经被收录于库中如果没有被更新则不会有任何操作。若有更新则对该页面收录，当发现的页面是未被收录的则会根据预定的规则判断是否进行收录。而搜索引擎的另一个关键技术就是索引，搜索引擎通常会把网页中的每一个关键词进行索引。在搜索引擎爬取页面进行存储的时候，关键词的相关信息会被记录在数据库中，这是建立索引库的过程。当用户通过在输入框键入待检索内容产生搜索行为时，搜索引擎会对搜索内容进行各种处理比如句字改写、句字纠错、去除停用词等，然后在索引库中搜索相关网页，用排序算法对结果进行排序，经过搜索引擎优化，最后将结果呈现给用户。
互联网已经渗透于人类生活的各个方面，
它为用户提供了日常生活中所需要的各种信息。据调查统计，
一个成年人平均每天要花费大约3个小时利用搜索引擎浏览大量的网页。
传统的搜索引擎虽然能够在一定程度上满足用户的某些需求，
但每次搜索都会返回众多结果包括一些相关或无关的文档。由于返回的结果存在不相关或者相关程度很低的无用信息，加之大都是以网页、链接等繁杂内容呈现，人们为了得到确切的答案，
需要点击返回的相关链接，用"阅读理解"式的方法去里面进行人工二次筛选来进一步寻找答案。有时搜索引擎所属公司为了从广告商拿到高额广告费，
顶部的候选链接还可能存在大量广告商投放的相关广告，因为竞价排名而跻身前列，这大大降低了用户的体验。同时传统的搜索引擎仅仅是对句字进行简单的语义解析，
并没有真正理解用户检索句的真正意思，而无法返回令用户满意的答案。

鉴于传统搜索引擎的存在的这些缺点，一种让用户以自然语言的表达形式进行提问，同时只需花少量时间键入要查询的问题，就可以得到简洁明了、准确无误的答案的传统搜索引擎衍生品，这就是近年来问世的问答系统。和传统搜索引擎不同的是，问答系统作为搜索引擎2.0，它会对用户的问题进行语义关系的提取和语义层面的理解，并将最终的答案返回给用户，省去了用户为了寻找准确的答案而花费的额外精力。例如，当用户键入问题“哪个国家是2008年奥运会获得金牌最多的国家”，传统的搜索引擎可能会返回2008年奥运会金牌相关的信息，或者更智能点的会链接到一个金牌榜，而问答系统会直接为用户返回问题答案"中国"。与传统的搜索引擎对比，由于可以理解用户问句语义，问答系统的功能更加智能，返回的结果更加简洁明了，具有更好的用户体验。
在自然语言处理领域，问答系统已经成为炙手可热的研究重点，从斯坦福大学于2016年发布基于数据集SQuAD的任务开始，掀起了研究者对问答系统相关技术的研究热潮。百度公司于2018年发布了问答系统阅读理解领域数据集，促进了国内研究人员对阅读理解相关技术的深入研究。问答系统从答案生成策略进行划分，可以分成2类：（1）检索式问答系统（2）生成式问答系统。
检索式问答系统，简单说是根据用户提交的自然语言形式的问句，用一定的策略去检索答案。检索式问答系统还可以分为基于知识图谱的问答系统和基于语义匹配的问答系统。基于知识图谱的问答系统其本质是对非结构化数据抽取成可以利用的知识，以语义网的形式对知识中的关系进行表达。这种问答系统具有一定的推理能力，运行效率高、可解释性强，面向特定领域及其友好，已被广泛应用于很多领域。基于语义匹配的问答系统一般是从特定的回答集中以一定的策略进行答案召回，再用打分模型对召回的答案进行打分，选择最终答案，最后返回给用户。它的答案是以问答对的形式存在于知识库中，这类问答系统一经匹配到答案，准确率极高。基于问答对的研究在检索模型和问句匹配两个方面展开。基于检索的问答系统的挑战在于如何将非结构化的自然语言问题与知识库中的结构化数据进行匹配。要理解一个问题，需要弄清问题的主题实体和问题内部的关系链。
生成式问答系统主要是基于深度学习模型进行研究的，它可以融合分布在不同位置的答案片段，Jun Yin（Jun Yin 等，2016）等人基于编码器解码器网络结构，通过序列到序列的学习，在问答对知识库中进行训练，能有效的处理问题和
答案的变化，为简单的事实类问题作出正确而自然的回答。同样He（He等，2017）等人也基于编码器解码器网络结构，提出了COREAQ模型，将复制和检索机制融会贯通，其中答案中的单词、短语、实体是按照词汇表动态预测的，答案从给定的问题中复制或者从相关的知识库中检索。
问答系统从所使用的领域不同，还可以划分为面向限定域的问答系统和面向开放城的问答系统。开放域的问答系统，它以开放领域知识库作为信息支撑，就像面对一本百科全书，系统可以返回用该信息源进行表示的答案。开放域问答系统可以对通用领域进行问答服务，回答的领域不局限于某个领域，服务范围较广，但回答质量往往不尽如人意。开放域的自动问答系统的数据没有特定的形式，多种多样且复杂多变，其中问答句的句法结构和语法结构灵活多变。在开放域问答系统中有时不需要构造复杂的语言模型，数据主要来源于因特网且体量大，这对于理解用户的提问有巨大帮助，利用统计的方法即可完成简单的任务。
限定域问答系统的回答与开放领域问答系统的不同是，限定领域问答系统具有更高的可用性和实用性，因为它有更多的领域相关的资源信息可以利用，解决问题的针对性更强，但是限定域的问答系统同时有很强的局限性，它对领域外的问题无法回答。同时为了正确识别用户的意图，限定域的问答系统通常需要在问题处理时做深层次的自然语言理解。面向限定域的问答系统已经在一些领域开展了相关研究，比如电商、美食、旅游等，并带来了一定的实际应用价值。
近年来，随着脱贫攻坚取得圆满成功，人民生活欣欣向荣，越来越多的人开始或已经去了解金融领域的方方面面，与此同时人工智能也推动着金融行业的发展。网络上充斥着大批的金融领域相关信息，用户有着急需对金融领域进行全面了解的诉求，基于内容的搜索引擎无法直接给出明确的答案。用户通常会询问专业的业务人员，而往往由于业务人员人数有限、时间有限、精力有限，无法为用户在第一时间给用户做出解答，更无法做到全天不间断给用户提供服务。因此金融领域把深度学习和问答系统结合，构建金融问答系统具有重要的理论研究意义和使用价值。


1.2 国内外研究现状
  1.2.1 领域知识图谱研究现状
    知识图谱的出现让搜索引擎的效率和用户满意度都得到了很大的提高，知识图谱核心是语义网络国，其存储形态往往以三元组的形式存在。语义网络是数据结构的图形化表示，它采用图的形式将文本信息形象的表达出来。在日常生活中语义网络的应用领域广泛，一般来说语义网络可以作为工具用于机器翻译、语言理解图等方面。
  知识图谱有多种划分方式，依据知识范畴不一样来进行划分的话，知识图谱可以
  被分为垂直领城知识图谱以及开放领域知识图谱。垂直领域知识图谱而对某一个固定场景而构建，比较注重专业知识的质量与准确性。而开放领域知识图谱不限制知识类型也没有固定应用场景，包括了各行各业的知识，注重知识的全面性。
  目前，国外已经有很多公司和研究机构建立了开放领城细识图谱。其中具有代表性的是：Metaweb公司创建的Freebasel可知识图谱，其数据主要来源于维基百科、IMDB、Flickr 等网站，现大约有6800万个实体信息，10亿多条关系信息；维基媒体基金会主
  持的Wikidatall多语言辅助知识库，采用文档的方式来存储数据，现大约有1700万个文档，每个文档由唯一的编号标记着：德国曼海姆和莱比锡这两所大学的科研人员共同建立的DBpedial"如识图谱，其主要由维基百科提供数据，现包含约30亿条三元组信息，这不仅是一个综合性的知识库，还包括了各种类型的语言；德国马普所创建的YAGOJU知识图谱主要包括了维基百科和 WordNet四等数据，后来又增加了GeoNamesDal数据源，现共有多于1000万的实体和超过1.2亿的关系。中文知识图谱虽然起步较晚，但这几年的发展很不错。商业上出现了搜狗的知立方LI31知识图谱和百度的知心14知识图谱。学术界比较著名的开放领域知识图谱有，复旦大学建立的CN-DBpediall5l知识图谱，大约包含6700万条三元组信息；上海交通大学创建的zhishi.mell6l通用知识图谱，数据来源的渠道主要包括：百度、维基、互动等百科：在Wikipedia的研究基础上，清华大学构建了XLorelum知识图谱，这是世界上首个大规模的中文和英文内容均衡的知识图谱，它还为建立跨越语言系统的知识图谱提供了新的方法和手段。
  在垂直领域知识图谱方面，因为商业竞争和版权等原因，公开的垂直领域知识图谱较少。其中比较常见的有IMDBDB电影知识图谱，采集了2132383部影视作品资料和4530159名演员信息：MusicBrainz【19】音乐知识图谱，在网站注册过的用户均可投稿：ConceptNet201常识知识图谱，包含83种语言，2100万条关系和超过800万的实体。在国内，基于学术领域的知识图谱acemapl21由上海交通大学所创建，现拥有的三元组数据已经超过了22亿条，包含了全面又详细的学术数据：中医药知识图谱（22）由中国中医科学院所创立，人们可以通过它了解中药材知识信息。在金融领城方面，王琦（23构建了联合实体关系抽取模型来抽取三元组信息，宋渊【24】融合了改进的CSD方法和DRCM 模型从金融公告与研报中提取了实体和关系，安磊1251融合了两种实体识别模型来对非结构化数据进行知识抽取。


  1.2.2 领域问答系统研究现状
  问答系统是一种通过理解用户自然语言问句，并可以从大量数据中找出简洁明了的答案的检索系统。因为中英文在语法和句法等结构上有很大的差异，中文是一种意合语言，词性转换无变化、动词没有单复数的区别、没有复杂的语法规则，对于中文句子的理解变得更加困难，不能直接将国外的科研成果运用到中文。另一方面，因为缺少成体系的中文语料库、知识库等，使得中文问答系统起步较晚，发展较为缓慢。
  国内问答系统领域的科研机构包括研究所、高等院校和互联网公司，研究成果被广泛运用。中科院计算技术研究所开发的NKI问答系统，以国家知识基础设施建设为背景集成了各个学科的知识，同时融入了各个学科领域专家的个人知识，建成了强大的知识库，可以为各种领域的公共知识进行问答服务。北京大学研发的中文问答系统gAnswer，是基于PKU知识库，面向开放域的自然语言问答系统，它可以将问句通过依存句法分析，转变为查询图，该查询图由于蕴含语义信息被称为语义查询图，然后语义查询图会被转化为SPARQL查询语句，最后在图数据库中执行该查询语句，将问题答案反馈给用户。台湾国防大学研发的CQAS问答系统，重点进行了命名实体和关系处理的科研。它将中文文本转换为三元组文本，通过用中文的文本特征来表示中文文本，增强现有搜索引擎的体系结构来支持中文自然语言问答。科大讯飞AI实验室于2015年研发的科大讯飞AIUI平台，可以通过设备或者应用接入AIUI，实现播放音视频、查询天气、对智能家居进行控制等能力，已被成功投放使用如海底捞的智能客服，它通过接入讯飞AIUI技术，使得用户可以直接使用移动电话与人工智能客服终端进行交互，同时可以完成订餐预约、点餐等服务。据统计，截止2018年全国约150家门店都已上线人工智能客服，服务占比约为85%，平均每家门店至少减少1名人工客服人员，极大节约了人力成本，公开数据显示，其每年可节省成本达1000万元。此外，小度机器人——百度AI的形象代言人，在国内某档栏目以一鸣惊人之势进入众人视野，它是百度公司研发的一种问答机器人，能够实现问答咨询、自然情感对话和引领讲解等功能，其中它的问答咨询功能的核心来自于百度深度问答
  系统，深度问答系统基于深度问答技术，它能够深度理解人类语言，可以做到用人类的思维理解语言的含义，同时基于百度强大的搜索引擎坐拥海量网络数据，可以提供在海量网页中进行搜索的技术支持。语义深度理解基于百度的自然语言处理技术，通过该技术对问题进行深度理解并了解用户意图，通过海量数据的查询和语义的理解，整合出答案信息。该问答系统对于百科类知识尤为擅长，上到
  宇宙太空，下到江河湖海、中到乐理影视，博古通今满腹经纶，同时他还可以处理原因类、方法类和观点类等问题，可以直面问题，高效给出准确答案。

  在二十世纪五十年代，计算机之父图灵第一次提出"机器智能"，同时提出了测试机器是否拥有智能的一种方法————“图灵测试”，随后麻省理工于1966年研发出了ELIZA，作为最早的问答系统，由于不具有完善的知识库，只能算是简单的问答系统，它通过分析人类提问内容，找出关键词，以做出相应的回答，整个程序代码只有200行左右，这种问答的模式并非是理解人类的意图和想法，而是通过分析所键入的文字，根据特定字句的组合，生成新的字句组合，同时加入了对话引导，从而让人类以为对话者是真人。与人脑有额外的情感不同，该系统通过分析大量数据挖掘人类相关偏好，达到问答的目的。1973年，Lunar系统问世，用于回答阿波罗探月采集的样本相关的问题，同期另一个人工智能专家系统SHRDLE进入人们视野，该系统可以面向玩具世界，回答其形状和状态问题。1995年，Androutsopoulos（Androutsopoulos等，1995）等人针对基于数据库的问答系统涉及的问题、方法和进行了总结，基于检索的问答系统开始兴起，麻省理工开发的START系统以及密歇根大学研发的Answerbus问答系统都是这个时代的产物。START问答系统能够回答多种学科的常识性问题，例如历史、地理、科技和娱乐等方面，对常识性问题直接给出答案，并且不相关的信息在答案中一般不会出现。Answerbus基于网页信息检索技术，是一种句子级问答系统，它支持英语问答、葡萄牙语问答、意大利语问答、西班牙语问答以及法语问答，通过多个搜索引擎进行检索与句子相关的资源。同样它支持多个领域，基于问题从网页中抽取相关的内容，准确性和响应速度在当时是其他同类系统不能媲美的。
  2011年，IBM研发的深度问答系统沃森（Waston）在美国一档竞答节目中打败了卫冕冠军拔得头筹，成为人工智能历史上具有里程碑意义的智能问答系统。沃森会通过图像识别技术识别屏幕的文字，将文字中的基本信息比如时间、人名地名等抽取出来，和知识库进行比对，这个比对的过程是将搜索任务拆成很多小的子搜索并行处理，将比对结果打上分类标签，然后通过提取文本的语义结构信息，例如词性，依存句法等来分析问题。其中一般每一步都会用分治的思想转化为求解子问题，一个只有数十个词的问题可能会被分解为成千上万个子问
  题。此外，当问题难以解决时，为了得到答案，沃森会用一定的策略引入新的问题。最后会使用大量的算法对相关的答案进行打分评估，其中会涉及到答案的类别、语法结构、词性等是否合理，最后会将整理好的最终答案转换成语音反馈给用户。沃森的问世让问答在商业界和科研界变得炙手可热，同时推动了更多优秀问答系统的发展。后来陆续诞生了许多基于设备的应用型问答系统，比如苹果的Siri助手，微软的小娜助手，谷歌的Google Now。

  1.2.3 研究现状总结
  从本课题目前搜集到的资料来看，虽然目前国内外在问答系统的研究已经相当的成熟与智能，但在这些研究中也存在着不足的地方。比如，当前金融类问答系统没有针对证券类产品单个领域所做的，其不能满足用户在证券类产品购买使的咨询需求；另外，如今代表问答系统顶尖水平的ChatGPT在很多专业领域方面效果不如传统的KBQA，这给本文的写作提供了一些空问和可能性，本文计划针对这一问题述行相应的拓展和研究。


1.3 本文的主要研究内容
本文以金融项目为应用背景，运用现阶段流行的检索式问答和模板匹配式问答相关技术，将NLP技术与之结合，应用到证券类领域的问答服务中。本文将在构建的知识图谱的基础上，
设计并实现一个证券类问答系统。本文的问答系统一方面可以为用户提供精准的问答服务，另一方面可以减轻专业人员的工作量。具体研究内容如下：
（1）知识图谱设计。图谱的构建主要分为三个部分：知识采集，知识抽取，知识存储和可视化。人工智能，数据先行。无论是系统开发和模型训练，都离不开数据的支撑。
在金融领域，因缺乏数据信息，对于问答系统方向还没有较好的落地应用，本文的数据主要来源于tushare以及各大财经网站，编写Python程序获取到数据，对数据进行预处理后，按照一定的方法进行实体，属性，关系的抽取。采用自底向上的方式
构建证券类领域的知识图谱，最后利用neo4j图数据库进行存储，为后续的问答系统相关模型训练和开发打下基础。
（2）问答关键技术研究。主要包括了对话分类和答案查询。本位首先在构建的知识图谱的基础上，根据不同的用户问题，构建查询模板，其次再对今日头条的数据进行训练，达到对用户的问题进行分类，当
问题被分为金融领域问题时，再调用设定好的模板进行匹配，否则返回闲聊语句，最后对查询结果，对关键信息进行填充，转化为cypher语句，完成知识图谱的查询和推理，实现金融智能问答。
（3）证券类问答系统搭建。使用Django框架搭建基于Web端的金融问答系统，为用户提供证券类产品咨询平台。系统分为三个模块，数据模块、逻辑模块、前端展示模块。数据模块为证券类问答系统提供数据支撑，
逻辑模块主要包括问答流程的相关算法并为前端展示模块提供对外服务API接口，前端展示模块主要用于实现系统和用户的交互。


1.4 本文的组织结构
  本文共分为六章，具体内容如下：
  第1章 绪论。首先介绍了本文的研究背景，在研究背景基础上提出了研究的意义，然后对国内外知识图谱、基于知识图谱问答的研究现状进行了分析，最后对本文的研究内容和整体结构进行了简单介绍。
  第2章 相关技术。主要介绍与本文研究内容有关的基础理论和关键技术，首先介绍了知识图谱的特点，与构建方法；然后介绍了自动问答的几个常用方法。
  第3章 证券类领域知识图谱的构建。首先介绍了知识图谱的构建流程，然后从知识采集、知识抽取及知识存储和查询这四个部分进行了详细的阐述，最后展示了知识图谱的查询界面。
  第4章 基于知识图谱的问答关键技术研究。
  第5章 证券类问答系统的设计与实现。首先介绍了问答系统的运行环境，然后介绍了系统的三个模块，包括数据模块、逻辑模块和前端展示模块，并对每个模块进行了具体介绍，最后对系统进行了测试与演示。
  第6章 总结与展望。总结全文的相关工作，分析了论文的不足之处及未来发展方向。

